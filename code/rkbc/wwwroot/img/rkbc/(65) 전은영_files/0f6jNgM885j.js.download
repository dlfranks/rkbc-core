if (self.CavalryLogger) { CavalryLogger.start_js(["WjxEp"]); }

__d("RTWebExperiments",["FBRTCConfig","qex"],(function(a,b,c,d,e,f){"use strict";a={enableCallCollisionFix:function(){return b("FBRTCConfig").isVCEndpointCall()?!1:b("qex")._("771668")},passOfferWithWindowMessages:function(){return b("FBRTCConfig").isVCEndpointCall()?!1:b("qex")._("771669")}};e.exports=a}),null);
__d("FBRTCLocalMessageQueue",["CacheStorage","FBRTCConstants","RTWebExperiments"],(function(a,b,c,d,e,f){var g="localstorage",h="RTC_",i="offer",j="offer_msg",k="data_",l=30*1e3,m=new Map(),n={STORAGE_TYPE:g,PREFIX:h,OFFER_KEY:i,OFFER_SUFFIX:j,DATA_KEY_PREFIX:k,CACHE_LIFE:l,clearQueue:function(a){m.set(a,new Map())},writePeerOfferToStorage:function(a,b){a=n.getStorage(a,j);n._storeData(a,i,b)},getPeerOfferFromStorage:function(a){a=n.getStorage(a,j);return n._getData(a,i)},clearPeerOfferFromStorage:function(a){a=n.getStorage(a,j);a.remove(i)},pluckOffer:function(a){if(b("RTWebExperiments").passOfferWithWindowMessages()){var c=m.get(a)||new Map(),d=c.get(i);c["delete"](i);return d||null}else{c=n.getPeerOfferFromStorage(a);n.clearPeerOfferFromStorage(a);return c||null}},enqueueMessage:function(a,c,d){c=k+c.toString();var e=m.get(a)||new Map();d.msg_type===b("FBRTCConstants").PayloadType.OFFER&&(c=i);e.set(c,d);m.set(a,e)},drainQueue:function(a,b){var c=m.get(a)||new Map();for(var c=c,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f[0];f=f[1];b(f)}m.set(a,new Map())},_storeData:function(a,b,c){c={__t:Date.now(),__d:c};a.set(b,c)},_getData:function(a,b){var c=a.get(b);if(c&&n._isValid(c))return c.__d;else c&&a.remove(b);return null},_getAndRemoveData:function(a,b){var c=n._getData(a,b);if(c!==null){a.remove(b);return c}return null},_isValid:function(a){return Date.now()-a.__t<l},getStorage:function(a,c){return new(b("CacheStorage"))(g,""+h+a+"_"+c+"_")}};e.exports=n}),null);
__d("FBRTCMessageListener",["invariant","Bootloader","FBMqttChannel","FBRTCConstants","FBRTCLocalMessageQueue","FBRTCSupport","RTWebExperiments","Run","gkx","guid","mixInEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";var h=b("FBRTCConstants").ChildWindowMessageType,i=45*1e3,j=[],k=null,l=null,m,n=null,o=null,p=!1,q=!1,r=null,s=null,t=null,u=null,v=null,w=[];a={logCheckpoint:function(a){b("Bootloader").loadModules(["RTWebUserActionLogger"],function(b){b.logCheckpoint({checkpoint:a})},"FBRTCMessageListener")},init:function(a,c){var d=this;if(p)return;p=!0;q=a;r=c;this.subscribeToMqtt();if(b("FBRTCSupport").isWebrtcSupported()&&window.addEventListener){var e=a?this._handleWindowMessageToChild.bind(this):this._handleWindowMessageToParent.bind(this);window.addEventListener("message",e,!1)}a&&this._connectToParentWindow(c);b("Run").onUnload(function(){d.unsubscribeToAll()})},subscribeToMqtt:function(){var a=this;w.push("/webrtc");b("FBMqttChannel").subscribe("/webrtc",function(b){b=JSON.parse(b);a._onMessage(b)});w.push("/rtc_multi");b("FBMqttChannel").subscribe("/rtc_multi",function(b){b=JSON.parse(b);a._onMultiwayMessage(b)});w.push("/onevc");b("FBMqttChannel").subscribe("/onevc",function(b){b=JSON.parse(b);a._onOneVCMessage(b)})},unsubscribeToAll:function(){w.forEach(function(a){b("FBMqttChannel").unsubscribeAll(a)})},setParentWindowNonce:function(a){n=a},generateNewNonce:function(){o=b("guid")();return o},setMultiwayMessageHandler:function(a){s&&g(0,1011),s=a},removeMultiwayMessageHandler:function(){s=null},_emit:function(a,b){this.emit(a,b)},_onMultiwayMessage:function(a){this._emit("multiwayMessageReceived",a),s&&s(a)},setOneVCMessegeHandler:function(a){t==null&&(t=a)},_onOneVCMessage:function(a){t!=null&&t(a)},setMessageHandler:function(a){k&&g(0,1013);k=a;while(j.length)k(j.shift())},removeMessageHandler:function(){k=null},removeOneVCMessageHandler:function(){t=null},setParentWindowStartCallHandler:function(a){u=a},_onMessage:function(a){a.from&&(a.from=a.from.toString()),this._emit("messageReceived",a),k?k(a):j.push(a),q||this._passOrQueueToChildWindow(a)},_connectToParentWindow:function(a){var b=this;if(window.opener&&window.opener.postMessage){a={type:h.CHILD_WINDOW_READY,nonce:n,childNonce:this.generateNewNonce(),peerID:a};var c=new MessageChannel();c.port1.onmessage=function(a){b._handleWindowMessageToChild(a,!0)};window.opener.postMessage(a,window.location.origin,[c.port2])}},_verifyWindowMessage:function(a){return Boolean(a.origin===window.location.origin&&a.data&&o!==null&&a.data.nonce===o)},_verifyPortMessage:function(a){return Boolean(o!==null&&(a==null?void 0:(a=a.data)==null?void 0:a.nonce)===o)},_handleWindowMessageToParent:function(a){if(!this._verifyWindowMessage(a))return;if(a.data.type===h.CHILD_WINDOW_READY){var c=a.data,d=c.childNonce;c=c.peerID;b("gkx")("1098789")&&a.ports!=null&&Array.isArray(a.ports)&&a.ports[0]!=null&&(v=a.ports[0]);this.setParentWindowNonce(d);this._setChildWindow(a.source);this._startCallInChildWindow(c);this.generateNewNonce();this._replayQueuedMessagesToChild(c,l)}},_handleWindowMessageToChild:function(a,c){c===void 0&&(c=!1);if(c&&!this._verifyPortMessage(a)||!c&&!this._verifyWindowMessage(a))return;a.data.type===h.CHILD_WINDOW_MESSAGE&&this._onMessage(a.data.message);if(a.data.type===h.CHILD_WINDOW_START_CALL&&u){c=a.data.offer;!c&&r&&(c=b("FBRTCLocalMessageQueue").getPeerOfferFromStorage(r),c&&b("RTWebExperiments").passOfferWithWindowMessages()&&this.logCheckpoint("got_offer_from_storage_while_in_experiment"));u(c)}},_replayQueuedMessagesToChild:function(a,c){var d=this;b("FBRTCLocalMessageQueue").drainQueue(a,function(a){d._postToChildWindowMessage(c,a)})},_setChildWindow:function(a){l=a,window.clearTimeout(m),m=window.setTimeout(function(){l=null},i)},_postToChildWindowMessage:function(a,c){c={type:h.CHILD_WINDOW_MESSAGE,nonce:n,message:c};b("gkx")("1098789")&&v!=null?v.postMessage(c):a.postMessage(c,window.location.origin)},_passOrQueueToChildWindow:function(a){l&&this._postToChildWindowMessage(l,a),b("RTWebExperiments").enableCallCollisionFix()&&b("FBRTCLocalMessageQueue").enqueueMessage(a.from,a.id,a)},_startCallInChildWindow:function(a){if(l){a={type:h.CHILD_WINDOW_START_CALL,nonce:n,offer:b("RTWebExperiments").passOfferWithWindowMessages()?b("FBRTCLocalMessageQueue").pluckOffer(a):null};b("gkx")("1098789")&&v!=null?v.postMessage(a):l.postMessage(a,window.location.origin)}},listenOnce:function(a,b){this.once(a,b)}};b("mixInEventEmitter")(a,{messageReceived:!0,multiwayMessageReceived:!0});e.exports=a}),null);
__d("MessagingThreadEventTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MessagingThreadEventLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessagingThreadEventLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessagingThreadEventLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setActiveTimeMs=function(a){this.$1.active_time_ms=a;return this};c.setClientEventTimeMs=function(a){this.$1.client_event_time_ms=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setPageData=function(a){this.$1.page_data=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setScriptPath=function(a){this.$1.script_path=a;return this};c.setSource=function(a){this.$1.source=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};c.setVC=function(a){this.$1.vc=a;return this};return a}();c={active_time_ms:!0,client_event_time_ms:!0,event:!0,page_data:!0,page_id:!0,script_path:!0,source:!0,thread_id:!0,vc:!0};e.exports=a}),null);
__d("VideoChatLinksUserActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setClientAppVersion=function(a){this.$1.client_app_version=a;return this};c.setClientLockStatus=function(a){this.$1.client_lock_status=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setConferenceNameRaw=function(a){this.$1.conference_name_raw=a;return this};c.setCreationAction=function(a){this.$1.creation_action=a;return this};c.setErrorDetails=function(a){this.$1.error_details=a;return this};c.setErrorType=function(a){this.$1.error_type=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExperimentsEnabled=function(a){this.$1.experiments_enabled=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setGroupSize=function(a){this.$1.group_size=a;return this};c.setKickedUserID=function(a){this.$1.kicked_user_id=a;return this};c.setLinkShareTo=function(a){this.$1.link_share_to=a;return this};c.setReason=function(a){this.$1.reason=a;return this};c.setReferralSurface=function(a){this.$1.referral_surface=a;return this};c.setRoomIDRaw=function(a){this.$1.room_id_raw=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setThreadType=function(a){this.$1.thread_type=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setUserIdsToBeRemoved=function(a){this.$1.user_ids_to_be_removed=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setVC=function(a){this.$1.vc=a;return this};c.setVideoCallLinkHashRaw=function(a){this.$1.video_call_link_hash_raw=a;return this};c.setVideoCallLinkIDRaw=function(a){this.$1.video_call_link_id_raw=a;return this};c.setVideoCallLinkURLRaw=function(a){this.$1.video_call_link_url_raw=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={client_app_version:!0,client_lock_status:!0,clienttime:!0,component:!0,conference_name_raw:!0,creation_action:!0,error_details:!0,error_type:!0,event:!0,experiments_enabled:!0,group_size:!0,kicked_user_id:!0,link_share_to:!0,reason:!0,referral_surface:!0,room_id_raw:!0,surface:!0,thread_type:!0,time:!0,user_ids_to_be_removed:!0,vc:!0,video_call_link_hash_raw:!0,video_call_link_id_raw:!0,video_call_link_url_raw:!0,weight:!0};e.exports=a}),null);
__d("MessengerLoggerUtils",["MercuryIDs","MessagingThreadEventTypedLogger","ScriptPath","pageID"],(function(a,b,c,d,e,f){a={logThreadChangeEvent:function(a,b,c,d){c.activeThreadID&&a&&this.log({activeThreadID:c.activeThreadID,event:"inactive",clientEventTimeMs:b,activeTimeMs:b-a}),d.activeThreadID&&this.log({activeThreadID:d.activeThreadID,event:"active",clientEventTimeMs:b,activeTimeMs:0})},log:function(a){var c=b("MercuryIDs").tokenize(a.activeThreadID.toString()),d=b("ScriptPath").getPageInfo();new(b("MessagingThreadEventTypedLogger"))().setEvent(a.event).setClientEventTimeMs(a.clientEventTimeMs).setActiveTimeMs(a.activeTimeMs).setPageID(b("pageID")).setPageData(d?d.extraData:{}).setThreadID(c.value).setSource("messenger").log()}};e.exports=a}),null);
__d("MessengerURIStore",["LogHistory","MessengerActions","MessengerLoggerUtils","MessengerStore"],(function(a,b,c,d,e,f){"use strict";var g=b("LogHistory").getInstance("messenger_uri_store");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.$MessengerURIStore1={activeThreadID:null,folderKey:null,detailView:null,filter:null,folder:null,masterView:null,query:null,mid:null,sa:null,seeAllType:null,serverThreadID:null,extraQueryParams:null};b.$MessengerURIStore2=babelHelpers["extends"]({},b.$MessengerURIStore1);b.$MessengerURIStore4=b.$MessengerURIStore3=null;return b}var d=c.prototype;d.getState=function(){return this.$MessengerURIStore1};d.getPrevState=function(){return this.$MessengerURIStore2};d.__onDispatch=function(a){switch(a.type){case b("MessengerActions").Types.REPLACE_STATE:this.$MessengerURIStore2=this.$MessengerURIStore1;this.$MessengerURIStore4=this.$MessengerURIStore3;this.$MessengerURIStore1=babelHelpers["extends"]({activeThreadID:null,folderKey:null,detailView:null,filter:null,folder:null,masterView:null,query:null,mid:null,sa:null,seeAllType:null,serverThreadID:null,extraQueryParams:null,threadsIDs:null},a.nextState);a=Date.now();this.$MessengerURIStore3=a;g.debug("replace_state",JSON.stringify({previousThreadID:this.$MessengerURIStore2.activeThreadID,nextThreadID:this.$MessengerURIStore1.activeThreadID}));b("MessengerLoggerUtils").logThreadChangeEvent(this.$MessengerURIStore4,a,this.$MessengerURIStore2,this.$MessengerURIStore1);this.emitChange();break}};return c}(b("MessengerStore"));e.exports=new a()}),null);
__d("MessengerBrowserAlerts",["fbt","Bootloader","CurrentUser","DocumentTitle","Event","FavIcon","ImageSourceRequest","ImageSourceType","MercuryAttachmentSnippetRenderer","MercuryIDs","MercuryIgnoredBlockedParticipants.bs","MercuryNotificationRenderer","MercuryThreadInfo","MercuryThreadInformer","MessagingTag","MessengerActions","MessengerConfig","MessengerDesktopNotifications","MessengerFaviconUrls","MessengerParticipants.bs","MessengerSettingsStore","MessengerState.bs","MessengerURIStore","Sound","UserActivity","WorkplaceChatHelper","clearInterval","gkx","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h=8e3,i=80,j=3,k=6e5,l=new Map(),m=null,n=null;function o(){l=new Map()}function p(a){var c=b("MessengerSettingsStore").getSettings().sound_enabled,d=a.action_type=="ma-type:log-message";d=d&&(a.log_message_type=="log:phone-call"||a.log_message_type=="log:video-call")&&a.log_message_data.answered;c&&!d&&b("Sound").play([b("MessengerConfig")["sound.notif_ogg_url"],b("MessengerConfig")["sound.notif_mp3_url"]],a.timestamp,!1)}function q(a,c,d){if(!a.snippet_sender)return;var e=l.get(a.thread_id)||0;if(e>=j)return;l.set(a.thread_id,e+1);b("MessengerParticipants.bs").get(a.snippet_sender,function(e){var f=a.snippet,h=a.custom_nickname&&a.custom_nickname[b("MercuryIDs").getUserIDFromParticipantID(e.id)],i=h?h:e.short_name;!f&&a.snippet_attachments&&a.snippet_attachments.length>0&&(f=b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(b("MercuryAttachmentSnippetRenderer").getAttachmentSnippetType(a.snippet_attachments),!1,i,a.snippet_attachments));h=h?h:e.name;a.is_canonical||(h=a.name?g._("{sender's name} to {group name}",[g._param("sender's name",i),g._param("group name",a.name)]):g._("{sender's name} to your group",[g._param("sender's name",i)]));b("MessengerDesktopNotifications").showNotification({title:h,body:f,icon:a.image_src||c||e.big_image_src||e.image_src,closeTime:null,onClick:function(){window.focus(),b("MessengerActions").selectThread(a.thread_id)},tag:d.message_id,silent:!b("MessengerSettingsStore").getSettings().sound_enabled});b("MessengerDesktopNotifications").hasDefaultSound()||p(d)})}a={_shouldUpdateTitle:!0,init:function(a){var c=this;this._viewer=a;this._threadInformer=b("MercuryThreadInformer").getForFBID(this._viewer);this._highResImageMap=new Map();this._shouldMarkAllAsSeenWhenActive=!0;this._shouldUpdateFavicon=!0;this._enabled=!0;b("CurrentUser").isWorkUser()&&(this._availabilityStatusStore=null,b("Bootloader").loadModules(["WorkChatAvailabilityStatusStore"],function(a){c._availabilityStatusStore=a},"MessengerBrowserAlerts"));b("Event").listen(window,"focus",function(){o(),b("clearInterval")(m)});b("Event").listen(window,"blur",function(){m=b("setIntervalAcrossTransitions")(o,k)});this._threadInformer.subscribe("messages-received",function(a,b){for(var d in b)b[d].forEach(function(a){c.handleMessageReceived(a)})});this._threadInformer.subscribe("unseen-updated",this._handleUnseenUpdated.bind(this));this._threadInformer.subscribe("unread-updated",this._handleUnseenUpdated.bind(this))},disable:function(){this._enabled=!1},enable:function(){this._enabled=!0},disableMarkAllAsSeenWhenActive:function(){this._shouldMarkAllAsSeenWhenActive=!1},enableMarkAllAsSeenWhenActive:function(){this._shouldMarkAllAsSeenWhenActive=!0},disableFaviconUpdate:function(){this._shouldUpdateFavicon=!1},disableTitleUpdate:function(){this._shouldUpdateTitle=!1},enableTitleUpdate:function(){this._shouldUpdateTitle=!0},handleMessageReceived:function(a){var c=this;if(!this._enabled)return;var d=b("WorkplaceChatHelper").getIsSystemDoNotDisturbOn();d=d||this._availabilityStatusStore&&this._availabilityStatusStore.getIsDoNotDisturb(this._viewer);if(d||a.author===this._viewer||!a.is_unread||a.thread_id===b("MessengerURIStore").getState().activeThreadID&&b("UserActivity").isOnTab()||a.folder!=b("MessagingTag").INBOX&&a.folder!=b("MessagingTag").ARCHIVED)return;b("MessengerState.bs").getThreadMeta(this._viewer,a.thread_id,function(d){if(b("MercuryThreadInfo").isMuted(d))if(!b("MercuryThreadInfo").areMentionsMuted(d)){if(!a.profile_ranges||!a.profile_ranges.some||!a.profile_ranges.some(function(a){return a.id===c._viewer}))return}else return;var e=b("CurrentUser").getID();b("MessengerState.bs").compute(e,function(f){f=f.blocked_ids;if(b("MercuryIgnoredBlockedParticipants.bs").isPresentInGroupThread(e,f,d))return;b("MessengerSettingsStore").getSettings().desktopNotifsEnabled&&!b("UserActivity").isOnTab()?c._attemptDesktopNotification(d,a):a.log_message_type!=="log:unsubscribe"&&p(a);b("CurrentUser").isWorkUser()?f=b("gkx")("997564")?b("MessengerState.bs").getUnreadThreadCount(c._viewer):b("MessengerState.bs").getUnseenCount(c._viewer):f=b("MessengerState.bs").getUnseenUnreadCount(c._viewer);!b("UserActivity").isOnTab()&&f>0&&b("MercuryNotificationRenderer").renderDocumentTitle(a.thread_id,function(a){!n&&c._shouldUpdateTitle&&(n=b("DocumentTitle").blink(a))})})})},showRTCNotification:function(a,c){var d=this;if(b("UserActivity").isOnTab()){c(null);return}var e=this._availabilityStatusStore&&this._availabilityStatusStore.getIsDoNotDisturb(this._viewer);if(e){c(null);return}this._highResImageMap||(this._highResImageMap=new Map());var f=a.peerID;if(!this._highResImageMap.has(f)){e=function(b,e){d._highResImageMap.set(f.toString(),e.uri),d._displayRTCDesktopNotification(e.uri,a,c)};new(b("ImageSourceRequest"))().setFBID(f).setType(b("ImageSourceType").PROFILE_PICTURE).setDimensions(i,i).setResizeMode("p").setCallback(e.bind(null,f)).send()}else this._displayRTCDesktopNotification(this._highResImageMap.get(f),a,c)},_updateFavicon:function(a){if(!this._shouldUpdateFavicon)return;a===0?b("FavIcon").set(b("MessengerFaviconUrls")["default"]):b("FavIcon").set(b("MessengerFaviconUrls").unread)},_displayRTCDesktopNotification:function(a,c,d){var e=b("MercuryIDs").getParticipantIDFromUserID(c.peerID);b("MessengerParticipants.bs").get(e,function(f){var i;c.isVideoCall?c.isGroupCall?i=g._("Incoming Group Video Chat"):i=g._("Incoming Video Call"):c.isGroupCall?i=g._("Incoming Group Call"):i=g._("Incoming call");f=g._("{caller} is calling you. Click to answer.",[g._param("caller",f.short_name)]);e=b("MessengerDesktopNotifications").showNotification({title:i,body:f,icon:a,closeTime:h,onShow:function(){b("Bootloader").loadModules(["RTWebUserActionLogger"],function(a){a.logPreCallImpression({callID:c.callID,callType:a.getCallType(c.isGroupCall),mediaType:a.getMediaType(!c.isVideoCall),surface:"desktop_notification",component:"accept_button"})},"MessengerBrowserAlerts")},onClick:function(){window.focus(),b("Bootloader").loadModules(["RTWebUserActionLogger"],function(a){a.logPreCallClick({callID:c.callID,callType:a.getCallType(c.isGroupCall),mediaType:a.getMediaType(!c.isVideoCall),surface:"desktop_notification",component:"accept_button"})},"MessengerBrowserAlerts"),c.onNotificationClicked()}});d(e)})},_handleUnseenUpdated:function(){var a=this;if(!this._enabled)return;var c=b("MessengerState.bs").getUnseenUnreadCount(this._viewer);if(this._shouldMarkAllAsSeenWhenActive&&b("UserActivity").isOnTab()&&b("UserActivity").isActive()&&c>0){this._updateFavicon(0);b("MessengerState.bs").markAsSeen(this._viewer);return}this._shouldUpdateTitle&&b("DocumentTitle").badge(c);this._updateFavicon(c);n&&c===0&&(n.stop(),n=null);this._shouldMarkAllAsSeenWhenActive&&!this._focusToken&&c>0&&(this._focusToken=b("UserActivity").subscribe(function(){b("UserActivity").isOnTab()&&(a._focusToken&&a._focusToken.unsubscribe(),a._focusToken=null,b("MessengerState.bs").markAsSeen(a._viewer))}))},_attemptDesktopNotification:function(a,c){var d=this;if(!a.snippet_sender)return;if(!this._highResImageMap.has(a.snippet_sender)){var e=function(b,e){d._highResImageMap.set(a.snippet_sender,e.uri),q(a,e.uri,c)};new(b("ImageSourceRequest"))().setFBID(b("MercuryIDs").getUserIDFromParticipantID(a.snippet_sender)).setType(b("ImageSourceType").PROFILE_PICTURE).setDimensions(i,i).setResizeMode("p").setCallback(e.bind(null,a.snippet_sender)).send()}else q(a,this._highResImageMap.get(a.snippet_sender),c)}};e.exports=a}),null);
__d("MessengerProfileImageWrapperReact.bs",["cx","cssVar","React","bs_caml_option","CurrentUser","ReasonReact.bs","TooltipData","joinClasses","MessagingThreadType","getViewportDimensions","MessengerDotComAndInboxM4Check.bs","LazyWorkMultiCompanyChatTooltip.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");c=b("ReasonReact.bs").statelessComponent("MessengerProfileImageWrapperReact");function a(a){var c=a.ariaHidden,d=a.customBadge,e=a.isMessengerUser,f=a.isPartiesUser,g=a.threadColor,h=a.threadType,j=a.tooltipContent,k=a.size,l=a.isMultiCompany,m=a.className,n=a.showBadge;a=a.children;m=m!==void 0?m:"";var o=function(a){if(d!==void 0)return i.jsx("div",{children:i.jsx("div",{children:b("bs_caml_option").valFromOption(d),className:"_2pon _67in"}),className:"_4ld_ _2pom"});else{if(e===void 0&&f===void 0&&l===void 0)return null;if(n)if(f!==void 0)if(b("CurrentUser").isWorkUser())return null;else return i.jsx("div",{children:i.jsx("div",{className:"_2pon _2poo"}),className:"_4ld_ _2pom"});else if(l!==void 0)if(b("CurrentUser").isWorkUser()){a=l;var c=k!==void 0?k>45:!1;return i.jsx("div",{children:i.jsx(b("LazyWorkMultiCompanyChatTooltip.react"),{children:i.jsx("div",{className:(a&&!c?"_4rwy":"")+(a&&c?" _2zb5":"")})}),className:"_4ld_ _2pom"})}else return null;else if(b("CurrentUser").isWorkUser())return null;else{a=e;return i.jsx("div",{children:i.jsx("div",{className:"_2pon"+(a?" _2poo":"")+(a?"":" _2pop")}),className:"_4ld_ _2pom"})}else return null}},p=k!==void 0?""+(String(k)+"px"):"auto";h=h!==void 0?h===b("MessagingThreadType").ROOM:!1;var q;if(j!==void 0){var r=j;if(r==="")q={};else{var s=b("getViewportDimensions")().width,t=parseInt("700px".replace("px",""),10);s=s<=t;t=s?"above":"left";q=Object.assign({},b("TooltipData").propsFor(r,t))}}else q={};s=j!==void 0&&j!==""?0:void 0;r=h?{background:g!==void 0?g:"#0084ff",height:p,width:p}:{height:p,width:p};t={children:a,className:"_4ld-"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7q1r":"")+(h?" _180i":""),style:r};s!==void 0&&(t.tabIndex=b("bs_caml_option").valFromOption(s));j={children:[i.jsx("div",t),o(0)],className:b("joinClasses")("_4ldz",m),style:{height:p,width:p}};c!==void 0&&(j["aria-hidden"]=b("bs_caml_option").valFromOption(c));return i.cloneElement(i.jsxs("div",j),q)}d=a;e=a;f.component=c;f.make=d;f.jsComponent=e}),null);
__d("MessengerProfileImageWrapperReact.re",["MessengerProfileImageWrapperReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerProfileImageWrapperReact.bs").make;f.make=a;(function(a){return null});c=b("MessengerProfileImageWrapperReact.bs").jsComponent;f.jsComponent=c}),null);
__d("MessengerContactImage.react",["Image.react","MessengerProfileImageWrapperReact.re","React"],(function(a,b,c,d,e,f){var g=b("MessengerProfileImageWrapperReact.re").jsComponent,h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return h.jsx("div",{className:this.props.className,children:h.jsx(g,{isMessengerUser:(a=this.props.isMessengerUser)!=null?a:void 0,isPartiesUser:(a=this.props.isPartiesUser)!=null?a:void 0,size:this.props.size,customBadge:this.props.customBadge,showBadge:!1,children:h.jsx(b("Image.react"),{alt:"",height:this.props.size,src:this.props.src,width:this.props.size})})})};return c}(h.PureComponent);e.exports=a}),null);
__d("MessengerDialogLayerShrinkOnHide",["cx","invariant","CSSFade","Layer","SubscriptionsHandler","clearTimeout","setTimeout"],(function(a,b,c,d,e,f,g,h){a=function(){"use strict";function a(a){this._layer=a,this._subscriptionsHandler=new(b("SubscriptionsHandler"))()}var c=a.prototype;c.enable=function(){this._subscription=this._layer.subscribe("starthide",this._handleStartHide.bind(this))};c.disable=function(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._subscriptionsHandler.release()};c._handleStartHide=function(){var a=!0,c=b("Layer").subscribe("show",function(){var b;(b=c)==null?void 0:b.unsubscribe();a=!1}),d=b("setTimeout")(function(){var b=this,d;(d=c)==null?void 0:d.unsubscribe();c=null;d=function(){b._layer.finishHide()};a?this._animate(d):d()}.bind(this),0);this._subscriptionsHandler.addSubscriptions({remove:function(){b("clearTimeout")(d)}});return!1};c._animate=function(a){var c=this._layer.getRoot();c!=null||h(0,70);var d=c.getElementsByClassName("_59s7");d&&d[0]&&d[0].classList.add("_2qby");b("CSSFade").hide(c,{callback:function(){a()},duration:200})};return a}();e.exports=a}),null);
__d("bs_belt_List",["bs_curry","bs_belt_Array","bs_caml_option","bs_belt_SortArray"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a)return b("bs_caml_option").some(a[0])}function c(a){if(a)return a[0];else throw new Error("headExn")}function d(a){if(a)return a[1]}function e(a){if(a)return a[1];else throw new Error("tailExn")}function g(a,b){return[b,a]}function h(a,c){if(c<0)return;else{a=a;c=c;while(!0){var d=c,e=a;if(e)if(d===0)return b("bs_caml_option").some(e[0]);else{c=d-1|0;a=e[1];continue}else return}}}function i(a,b){if(b<0)throw new Error("getExn");a=a;b=b;while(!0){var c=b,d=a;if(d)if(c===0)return d[0];else{b=c-1|0;a=d[1];continue}else throw new Error("getExn")}}function j(a,b,c,d){while(!0){var e=d,f=c,g=b;if(g){var h=g[1];g=g[0];var i=[g,0];if(a(g)){f[1]=i;c=i;b=h;continue}else{e[1]=i;d=i;b=h;continue}}else return 0}}function k(a,b,c){while(!0){var d=c,e=b,f=a;if(f){var g=f[0],h=[g[0],0];g=[g[1],0];e[1]=h;d[1]=g;c=g;b=h;a=f[1];continue}else return 0}}function l(a,b){while(!0){var c=b,d=a;if(d){var e=[d[0],0];c[1]=e;b=e;a=d[1];continue}else return c}}function m(a,b,c){while(!0){var d=c,e=b;if(e){var f=e[1];e=e[0];if(a(e)){e=[e,0];d[1]=e;c=e;b=f;continue}else{b=f;continue}}else return 0}}function aa(a,b,c,d){while(!0){var e=d,f=c,g=b;if(g){var h=g[1];g=g[0];if(a(g,e)){g=[g,0];f[1]=g;d=e+1|0;c=g;b=h;continue}else{d=e+1|0;b=h;continue}}else return 0}}function ba(a,c,d){while(!0){var e=d,f=c;if(f){var g=f[1];f=a(f[0]);if(f!==void 0){f=[b("bs_caml_option").valFromOption(f),0];e[1]=f;d=f;c=g;continue}else{c=g;continue}}else return 0}}function ca(a,b,c,d){while(!0){var e=c,f=a;if(f){var g=f[1];f=f[0];if(d(f[0],b)){e[1]=g;return!0}else{f=[f,0];e[1]=f;c=f;a=g;continue}}else return!1}}function da(b,c,d,e,a){while(!0){var f=e,g=b;if(g){var h=g[1];g=g[0];if(a(g[0],c)){f[1]=[[c,d],h];return!0}else{g=[g,0];f[1]=g;e=g;b=h;continue}}else return!1}}function ea(a,b,c){while(!0){var d=b,e=a;if(e){var f=[c(e[0]),0];d[1]=f;b=f;a=e[1];continue}else return 0}}function fa(a,b,c){while(!0){var d=c,e=b,f=a;if(f&&e){var g=[[f[0],e[0]],0];d[1]=g;c=g;b=e[1];a=f[1];continue}else return 0}}function ga(a,b,c,d){while(!0){var e=d,f=c,g=b;if(g&&f){var h=[a(g[0],f[0]),0];e[1]=h;d=h;c=f[1];b=g[1];continue}else return 0}}function ha(a,b,c,d){while(!0){var e=d,f=c,g=b;if(f){var h=[a(g,f[0]),0];e[1]=h;d=h;c=f[1];b=g+1|0;continue}else return 0}}function ia(a,b,c){while(!0){var d=c,e=b,f=a;if(f===0)return!0;else if(e){var g=[e[0],0];d[1]=g;c=g;b=e[1];a=f-1|0;continue}else return!1}}function ja(a,b,c){while(!0){var d=c,e=b,f=a;if(f===0)return e;else if(e){var g=[e[0],0];d[1]=g;c=g;b=e[1];a=f-1|0;continue}else return}}function ka(a,b){if(b<0)return;else if(b===0)return 0;else if(a){var c=[a[0],0];b=ia(b-1|0,a[1],c);if(b)return c;else return}else return}function la(a,b){if(b<0)return;else{a=a;b=b;while(!0){var c=b,d=a;if(c===0)return d;else if(d){b=c-1|0;a=d[1];continue}else return}}}function ma(a,b){if(b<0)return;else if(b===0)return[0,a];else if(a){var c=[a[0],0];b=ja(b-1|0,a[1],c);if(b!==void 0)return[c,b];else return}else return}function n(a,b){if(a){var c=[a[0],0];l(a[1],c)[1]=b;return c}else return b}function o(a,b){if(a){var c=[b(a[0]),0];ea(a[1],c,b);return c}else return 0}function na(a,c){return o(a,b("bs_curry").__1(c))}function p(a,b,c){if(a&&b){var d=[c(a[0],b[0]),0];ga(c,a[1],b[1],d);return d}else return 0}function oa(a,c,d){return p(a,c,b("bs_curry").__2(d))}function q(a,b){if(a){var c=[b(0,a[0]),0];ha(b,1,a[1],c);return c}else return 0}function pa(a,c){return q(a,b("bs_curry").__2(c))}function r(a,b){if(a<=0)return 0;else{var c=[b(0),0],d=c,e=1;while(e<a){var f=[b(e),0];d[1]=f;d=f;e=e+1|0}return c}}function qa(a,c){return r(a,b("bs_curry").__1(c))}function ra(a,b){if(a<=0)return 0;else{var c=[b,0],d=c,e=1;while(e<a){var f=[b,0];d[1]=f;d=f;e=e+1|0}return c}}function s(a){a=a;var b=0;while(!0){var c=b,d=a;if(d){b=c+1|0;a=d[1];continue}else return c}}function sa(a,b,c){while(!0){var d=c,e=b;if(d){a[e]=d[0];c=d[1];b=e+1|0;continue}else return 0}}function t(a){var b=a;a=a.length-1|0;var c=0;while(!0){var d=c,e=a;if(e<0)return d;else{c=[b[e],d];a=e-1|0;continue}}}function u(a){var b=s(a);b=new Array(b);sa(b,0,a);return b}function ta(a){a=u(a);b("bs_belt_Array").shuffleInPlace(a);return t(a)}function v(a,b){while(!0){var c=b,d=a;if(d){b=[d[0],c];a=d[1];continue}else return c}}function ua(a){return v(a,0)}function va(a,b){while(!0){var c=b,d=a;if(c){b=c[1];a=l(c[0],d);continue}else{d[1]=0;return 0}}}function wa(a){while(!0){var b=a;if(b){var c=b[0];if(c){var d=[c[0],0];va(l(c[1],d),b[1]);return d}else{a=b[1];continue}}else return 0}}function xa(a){var b=a.length;if(b!==1)if(b!==0){b=a.length;var c=a[b-1|0];for(var b=b-2|0;b>=0;--b)c=n(a[b],c);return c}else return 0;else return a[0]}function w(a,b){b=b;var c=0;a=a;while(!0){var d=a,e=c;if(d){a=d[1];c=[b(d[0]),e];continue}else return e}}function ya(a,c){return w(a,b("bs_curry").__1(c))}function x(a,b){while(!0){var c=a;if(c){b(c[0]);a=c[1];continue}else return 0}}function za(a,c){return x(a,b("bs_curry").__1(c))}function y(a,b){a=a;var c=0;b=b;while(!0){var d=c,e=a;if(e){b(d,e[0]);c=d+1|0;a=e[1];continue}else return 0}}function Aa(a,c){return y(a,b("bs_curry").__2(c))}function z(a,b,c){while(!0){var d=b,e=a;if(e){b=c(d,e[0]);a=e[1];continue}else return d}}function Ba(a,c,d){return z(a,c,b("bs_curry").__2(d))}function A(a,b,c){if(a)return c(A(a[1],b,c),a[0]);else return b}function B(a,c,d){var e=s(a);if(e<1e3)return A(a,c,d);else return b("bs_belt_Array").reduceReverseU(u(a),c,d)}function Ca(a,c,d){return B(a,c,b("bs_curry").__2(d))}function C(a,b,c){a=a;b=b;c=c;var d=0;while(!0){var e=d,f=b,g=a;if(g){d=e+1|0;b=c(f,g[0],e);a=g[1];continue}else return f}}function Da(a,c,d){return C(a,c,b("bs_curry").__3(d))}function D(a,b,c){a=a;b=b;var d=0;c=c;while(!0){var e=d,f=b,g=a;if(g&&f){d=[c(g[0],f[0]),e];b=f[1];a=g[1];continue}else return e}}function Ea(a,c,d){return D(a,c,b("bs_curry").__2(d))}function E(a,b,c){while(!0){var d=b,e=a;if(e&&d){c(e[0],d[0]);b=d[1];a=e[1];continue}else return 0}}function Fa(a,c,d){return E(a,c,b("bs_curry").__2(d))}function F(a,b,c,d){while(!0){var e=c,f=b,g=a;if(g&&f){c=d(e,g[0],f[0]);b=f[1];a=g[1];continue}else return e}}function Ga(a,c,d,e){return F(a,c,d,b("bs_curry").__3(e))}function G(a,b,c,d){if(a&&b)return d(G(a[1],b[1],c,d),a[0],b[0]);else return c}function H(a,c,d,e){var f=s(a);if(f<1e3)return G(a,c,d,e);else return b("bs_belt_Array").reduceReverse2U(u(a),u(c),d,e)}function Ha(a,c,d,e){return H(a,c,d,b("bs_curry").__3(e))}function I(a,b){while(!0){var c=a;if(c)if(b(c[0])){a=c[1];continue}else return!1;else return!0}}function Ia(a,c){return I(a,b("bs_curry").__1(c))}function J(a,b){while(!0){var c=a;if(c)if(b(c[0]))return!0;else{a=c[1];continue}else return!1}}function Ja(a,c){return J(a,b("bs_curry").__1(c))}function K(a,b,c){while(!0){var d=b,e=a;if(e&&d)if(c(e[0],d[0])){b=d[1];a=e[1];continue}else return!1;else return!0}}function Ka(a,c,d){return K(a,c,b("bs_curry").__2(d))}function La(a,b){while(!0){var c=b,d=a;if(d)if(c){b=c[1];a=d[1];continue}else return 1;else if(c)return-1;else return 0}}function L(a,b,c){while(!0){var d=b,e=a;if(e)if(d){var f=c(e[0],d[0]);if(f===0){b=d[1];a=e[1];continue}else return f}else return 1;else if(d)return-1;else return 0}}function Ma(a,c,d){return L(a,c,b("bs_curry").__2(d))}function M(a,b,c){while(!0){var d=b,e=a;if(e)if(d&&c(e[0],d[0])){b=d[1];a=e[1];continue}else return!1;else if(d)return!1;else return!0}}function Na(a,c,d){return M(a,c,b("bs_curry").__2(d))}function N(a,b,c){while(!0){var d=b,e=a;if(e&&d)if(c(e[0],d[0]))return!0;else{b=d[1];a=e[1];continue}else return!1}}function Oa(a,c,d){return N(a,c,b("bs_curry").__2(d))}function O(b,c,a){while(!0){var d=b;if(d)if(a(d[0],c))return!0;else{b=d[1];continue}else return!1}}function Pa(c,d,a){return O(c,d,b("bs_curry").__2(a))}function P(c,d,a){while(!0){var e=c;if(e){var f=e[0];if(a(f[0],d))return b("bs_caml_option").some(f[1]);else{c=e[1];continue}}else return}}function Qa(c,d,a){return P(c,d,b("bs_curry").__2(a))}function Q(b,c,a){while(!0){var d=b;if(d)if(a(d[0][0],c))return!0;else{b=d[1];continue}else return!1}}function Ra(c,d,a){return Q(c,d,b("bs_curry").__2(a))}function R(b,c,a){if(b){var d=b[1],e=b[0];if(a(e[0],c))return d;else{e=[e,0];d=ca(d,c,e,a);if(d)return e;else return b}}else return 0}function Sa(c,d,a){return R(c,d,b("bs_curry").__2(a))}function S(b,c,d,a){if(b){var e=b[1],f=b[0];if(a(f[0],c))return[[c,d],e];else{f=[f,0];e=da(e,c,d,f,a);if(e)return f;else return[[c,d],b]}}else return[[c,d],0]}function Ta(c,d,e,a){return S(c,d,e,b("bs_curry").__2(a))}function T(c,a){c=u(c);b("bs_belt_SortArray").stableSortInPlaceByU(c,a);return t(c)}function Ua(c,a){return T(c,b("bs_curry").__2(a))}function U(a,c){while(!0){var d=a;if(d){var e=d[0];if(c(e))return b("bs_caml_option").some(e);else{a=d[1];continue}}else return}}function Va(a,c){return U(a,b("bs_curry").__1(c))}function V(a,b){while(!0){var c=a;if(c){var d=c[1];c=c[0];if(b(c)){c=[c,0];m(b,d,c);return c}else{a=d;continue}}else return 0}}function W(a,c){return V(a,b("bs_curry").__1(c))}function X(a,b){a=a;b=b;var c=0;while(!0){var d=c,e=a;if(e){var f=e[1];e=e[0];if(b(e,d)){e=[e,0];aa(b,f,e,d+1|0);return e}else{c=d+1|0;a=f;continue}}else return 0}}function Y(a,c){return X(a,b("bs_curry").__2(c))}function Z(a,c){while(!0){var d=a;if(d){var e=d[1];d=c(d[0]);if(d!==void 0){d=[b("bs_caml_option").valFromOption(d),0];ba(c,e,d);return d}else{a=e;continue}}else return 0}}function Wa(a,c){return Z(a,b("bs_curry").__1(c))}function $(a,b){if(a){var c=a[0],d=[c,0],e=[c,0];c=b(c);j(b,a[1],d,e);if(c)return[d,e[1]];else return[d[1],e]}else return[0,0]}function Xa(a,c){return $(a,b("bs_curry").__1(c))}function Ya(a){if(a){var b=a[0],c=[b[0],0];b=[b[1],0];k(a[1],c,b);return[c,b]}else return[0,0]}function Za(a,b){if(a&&b){var c=[[a[0],b[0]],0];fa(a[1],b[1],c);return c}else return 0}var $a=s,ab=W,bb=Y;f.length=s;f.size=$a;f.head=a;f.headExn=c;f.tail=d;f.tailExn=e;f.add=g;f.get=h;f.getExn=i;f.make=ra;f.makeByU=r;f.makeBy=qa;f.shuffle=ta;f.drop=la;f.take=ka;f.splitAt=ma;f.concat=n;f.concatMany=xa;f.reverseConcat=v;f.flatten=wa;f.mapU=o;f.map=na;f.zip=Za;f.zipByU=p;f.zipBy=oa;f.mapWithIndexU=q;f.mapWithIndex=pa;f.fromArray=t;f.toArray=u;f.reverse=ua;f.mapReverseU=w;f.mapReverse=ya;f.forEachU=x;f.forEach=za;f.forEachWithIndexU=y;f.forEachWithIndex=Aa;f.reduceU=z;f.reduce=Ba;f.reduceWithIndexU=C;f.reduceWithIndex=Da;f.reduceReverseU=B;f.reduceReverse=Ca;f.mapReverse2U=D;f.mapReverse2=Ea;f.forEach2U=E;f.forEach2=Fa;f.reduce2U=F;f.reduce2=Ga;f.reduceReverse2U=H;f.reduceReverse2=Ha;f.everyU=I;f.every=Ia;f.someU=J;f.some=Ja;f.every2U=K;f.every2=Ka;f.some2U=N;f.some2=Oa;f.cmpByLength=La;f.cmpU=L;f.cmp=Ma;f.eqU=M;f.eq=Na;f.hasU=O;f.has=Pa;f.getByU=U;f.getBy=Va;f.keepU=V;f.keep=W;f.filter=ab;f.keepWithIndexU=X;f.keepWithIndex=Y;f.filterWithIndex=bb;f.keepMapU=Z;f.keepMap=Wa;f.partitionU=$;f.partition=Xa;f.unzip=Ya;f.getAssocU=P;f.getAssoc=Qa;f.hasAssocU=Q;f.hasAssoc=Ra;f.removeAssocU=R;f.removeAssoc=Sa;f.setAssocU=S;f.setAssoc=Ta;f.sortU=T;f.sort=Ua}),null);
__d("MessengerDialogs.bs",["bs_curry","bs_belt_List"],(function(a,b,c,d,e,f){"use strict";var g=[0],h=[void 0];function i(a){a=h[0];var c=g[0];if(a!==void 0){a=a;if(c)return b("bs_curry")._1(a,c);else return b("bs_curry")._1(a,void 0)}else return 0}function a(a){h[0]=a;return i(0)}function c(a){g[0]=[a,g[0]];return i(0)}function d(a,c){if(a!==void 0){var d=a;g[0]=b("bs_belt_List").keep(g[0],function(a){return a!==d})}else{c=g[0];g[0]=c?c[1]:0}return i(0)}function e(a){g[0]=0;return i(0)}f.visibleDialogs=g;f.setDialogComponentState=h;f.updateComponent=i;f.addHandler=a;f.showDialog=c;f.removeDialog=d;f.removeAllDialogs=e}),null);
__d("MessengerDialog.react",["cx","LayerHideOnEscape","LayerRefocusOnHide","MessengerDialogLayerShrinkOnHide","MessengerDialogs.bs","React","XUIDialog.react","createReactClass_DEPRECATED","joinClasses","prop-types","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("createReactClass_DEPRECATED")({displayName:"MessengerDialog",propTypes:{label:(a=b("prop-types")).node,onToggle:a.func,repositionOnUpdate:a.bool,shown:a.bool,type:a.oneOf(["alert","default"]),width:a.number,removeDialogOnToggle:a.bool,causalElement:a.instanceOf(Element),children:a.node,useDefaultStyling:a.bool},getDefaultProps:function(){return{label:void 0,repositionOnUpdate:!1,shown:!0,type:"alert",width:400,removeDialogOnToggle:!0,useDefaultStyling:!0}},componentDidUpdate:function(){this.props.repositionOnUpdate&&b("setTimeout")(function(){this.isMounted()&&this.refs.dialog&&this.refs.dialog.layer&&this.refs.dialog.layer.updatePosition()}.bind(this),0)},handleToggle:function(a){this.props.onToggle&&this.props.onToggle(a),!a&&this.props.removeDialogOnToggle&&b("MessengerDialogs.bs").removeDialog()},render:function(){var a=this.props,c=a.children;a=a.useDefaultStyling;return h.jsx(b("XUIDialog.react"),babelHelpers["extends"]({behaviors:{MessengerDialogLayerShrinkOnHide:b("MessengerDialogLayerShrinkOnHide"),LayerHideOnEscape:b("LayerHideOnEscape"),LayerRefocusOnHide:b("LayerRefocusOnHide")}},this.props,{onToggle:this.handleToggle,className:b("joinClasses")("_4ebx",this.props.className),ref:"dialog",causalElement:this.props.causalElement,children:a?h.jsx("div",{className:"_4eby"+(this.props.type==="alert"?" _2c9g":"")+(this.props.type==="default"?" _2c9i":""),children:c}):c}))}});e.exports=c}),null);
__d("MessengerDialogBody.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx("div",{className:b("joinClasses")("_4eb-",this.props.className),children:this.props.children})};return c}(h.Component);e.exports=a}),null);
__d("MessengerButtonReact.bs",["cx","bs_curry","React","Link.react","bs_caml_option","joinClasses","bs_js_null_undefined"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function i(a,c,d){if(a){d.preventDefault();return 0}else if(c!==void 0)return b("bs_curry")._1(c,d);else return 0}function j(a){if(a!==void 0)return{color:a}}function k(a,c,d,e,f){c="_3quh _30yy"+(c===0?" _2t_":"")+(c===1?" _2u0":"")+(c===2?" _17u4":"")+(f===1?" _3ay_":"")+(d?" _4zab":"")+(e?" _fy2":"");if(a!==void 0)return b("joinClasses")(c,a);else return c}function a(a){var c=a.ariaLabel,d=a.ariaHidden,e=a.role,f=a.tabIndex,g=a.target,l=a.onClick,m=a.disabled,n=a.className,o=a.color,p=a.customColor,q=a.label,r=a.type,s=a.use,t=a.href,u=a.wrapperClassName;a=a.dataTestID;var v=m!==void 0?m:!1;m=p!==void 0?p:!1;p=s!==void 0?s:0;s=u!==void 0?u:"";u=function(a){return i(v,l,a)};n=k(n,r,v,m,p);r=j(o);if(t!==void 0){m={className:n,href:t,onClick:u,children:q};d!==void 0&&(m["aria-hidden"]=b("bs_caml_option").valFromOption(d));c!==void 0&&(m["aria-label"]=b("bs_caml_option").valFromOption(c));e!==void 0&&(m.role=b("bs_caml_option").valFromOption(e));r!==void 0&&(m.style=b("bs_caml_option").valFromOption(r));f!==void 0&&(m.tabIndex=b("bs_caml_option").valFromOption(f));g!==void 0&&(m.target=b("bs_caml_option").valFromOption(g));return h.jsx(b("Link.react"),m)}else{p=b("joinClasses")("_30vt",s);o={children:q,className:n,onClick:u};d!==void 0&&(o["aria-hidden"]=b("bs_caml_option").valFromOption(d));c!==void 0&&(o["aria-label"]=b("bs_caml_option").valFromOption(c));e!==void 0&&(o.role=b("bs_caml_option").valFromOption(e));r!==void 0&&(o.style=b("bs_caml_option").valFromOption(r));f!==void 0&&(o.tabIndex=b("bs_caml_option").valFromOption(f));g!==void 0&&(o.target=b("bs_caml_option").valFromOption(g));t=h.jsx("button",o);m=h.cloneElement(t,{"data-testid":b("bs_js_null_undefined").fromOption(a)});return h.jsx("span",{children:m,className:p})}}c=a;f.handleLinkClick=i;f.elementStyle=j;f.interactionElementClassName=k;f.make=c}),null);
__d("MessengerButtonReact.re",["react","MessengerButtonReact.bs"],(function(a,b,c,d,e,f){var g,h=g||b("react"),i={primary:0,secondary:1,faded:2},j={"default":0,danger:1};(function(a){return null});a=function(a){a={type:i[a.type],ariaHidden:a.ariaHidden,ariaLabel:a.ariaLabel,className:a.className,color:a.color,customColor:a.customColor,dataTestID:a.dataTestID,disabled:a.disabled,href:a.href,label:a.label,onClick:a.onClick,role:a.role,tabIndex:a.tabIndex,target:a.target,use:a.use==null?void 0:j[a.use],wrapperClassName:a.wrapperClassName};a=h.createElement(b("MessengerButtonReact.bs").make,a);return a};f.make=a}),null);
__d("MessengerDialogButton.react",["cx","MessengerButtonReact.re","React","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MessengerButtonReact.re").make,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.action,d=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["action","className"]);return i.jsx(h,babelHelpers["extends"]({className:b("joinClasses")(d,"_5ixy"+(c==="button"?" layerButton":"")+(c==="cancel"?" layerCancel":"")+(c==="confirm"?" layerConfirm":""))},a))};return c}(i.PureComponent);a.propTypes={action:b("prop-types").oneOf(["button","cancel","confirm"])};e.exports=a}),null);
__d("MessengerDialogCancelButton.react",["fbt","MessengerDialogButton.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx(b("MessengerDialogButton.react"),babelHelpers["extends"]({action:"cancel",label:g._("Cancel"),type:"secondary"},this.props))};return c}(h.PureComponent);e.exports=a}),null);
__d("MessengerDialogFooter.react",["cx","LeftRight.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsx("div",{className:b("joinClasses")("_4eb_",this.props.className),children:h.jsxs(b("LeftRight.react"),{children:[h.jsx("div",{className:"_2_d1",children:this.props.leftContent}),h.jsx("div",{children:this.props.children})]})})};return c}(h.Component);e.exports=a}),null);
__d("MessengerSpinnerReact.bs",["cx","ix","fbt","React","Image.react","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=h("86853"),l=h("86857"),m=h("86854");function n(a){var c=a.className,d=a.color,e=a.size;a=a.center;var f=c!==void 0?c:"",g=d!==void 0?d:"blue",h=e!==void 0?e:24;c=a!==void 0?a:!1;var n=function(a){a=h===24;if(a){a=g==="blue";if(a)return k;else return l}else return m};d=function(a){return j.jsx(b("Image.react"),{className:b("joinClasses")(f,"_3u55 _3qh2"),"aria-label":i._("Loading..."),"aria-busy":!0,src:n(0),height:h,width:h})};if(c)return j.jsx("div",{children:d(0),className:"_8a6k"});else return d(0)}function a(a){var b=a.className,c=a.color,d=a.size;a=a.center;return n({className:b==null?"":b,color:c==null?"blue":c,size:d==null?24:d,center:a==null?!1:a})}c=32;d=24;e=n;f.large_size=c;f.medium_size=d;f.blue_src=k;f.grey_src=l;f.large_blue_src=m;f.make=e;f.jsComponent=a}),null);
__d("MessengerSpinner.react",["MessengerSpinnerReact.bs"],(function(a,b,c,d,e,f){e.exports=b("MessengerSpinnerReact.bs").make,e.exports.large_size=b("MessengerSpinnerReact.bs").large_size,e.exports.medium_size=b("MessengerSpinnerReact.bs").medium_size}),null);
__d("MessengerContactImageReact.bs",["Image.bs","React","bs_belt_Option","bs_caml_option","ReasonReact.bs","bs_js_null_undefined","MessengerContactImage.react","MessengerProfileImageWrapperReact.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");d=b("ReasonReact.bs").statelessComponent("MessengerContactImageReact");function a(a){var c=a.className,d=a.customBadge,e=a.isMessengerUser,f=a.isPartiesUser,h=a.size,i=a.src;a=a.isMultiCompany;a=a!==void 0?a:!1;a={ariaHidden:!0,size:h,isMultiCompany:a,showBadge:a,children:b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,"",void 0,void 0,i,h,void 0,h,void 0,[]))};d!==void 0&&(a.customBadge=b("bs_caml_option").valFromOption(d));e!==void 0&&(a.isMessengerUser=b("bs_caml_option").valFromOption(e));f!==void 0&&(a.isPartiesUser=b("bs_caml_option").valFromOption(f));return g.createElement("div",{className:b("bs_belt_Option").getWithDefault(c,"")},g.createElement(b("MessengerProfileImageWrapperReact.bs").make,a))}function c(a,c,d,e,f,g,h,i){var j;return b("ReasonReact.bs").wrapJsForReason(b("MessengerContactImage.react"),{className:(j=b("bs_js_null_undefined")).fromOption(a),customBadge:j.fromOption(c),isMessengerUser:j.fromOption(d),isPartiesUser:j.fromOption(e),size:f,src:j.fromOption(g),isMultiCompany:j.fromOption(h)},i)}e={make:c};c=b("bs_belt_Option").getWithDefault;var h=a;a=a;f.$pipe$question=c;f.component=d;f.make=h;f.jsComponent=a;f.StraightJSComponent=e}),null);
__d("MessengerDialogBodyReact.bs",["cx","React","bs_caml_option","ReasonReact.bs","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("ReasonReact.bs").statelessComponent("MessengerDialogBodyReact");function i(a){var c=a.className;a=a.children;c=c!==void 0?c:"";return h.jsx("div",{children:a,className:b("joinClasses")("_4eb-",c)})}function a(a){var c={children:a.children};a=b("bs_caml_option").nullable_to_opt(a.className);a!==void 0&&(c.className=b("bs_caml_option").valFromOption(a));return i(c)}d=i;f.component=c;f.make=d;f.jsComponent=a}),null);
__d("MessengerDialogHeaderReact.bs",["cx","React","bs_caml_option","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.autofocus,d=a.id;a=a.children;c=c!==void 0?c:!1;a={children:a,className:b("joinClasses")("_4ebz",c?"autofocus":"")};d!==void 0&&(a.id=b("bs_caml_option").valFromOption(d));return h.jsx("h2",a)}c=a;f.make=c}),null);
__d("MessengerDialogHeaderReact.re",["MessengerDialogHeaderReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerDialogHeaderReact.bs").make;f.make=a}),null);
__d("MessengerDialogTitleReact.bs",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.autofocus;a=a.children;c=c!==void 0?c:!1;return h.jsx("div",{children:a,className:b("joinClasses")("_19jt",c?"autofocus":"")})}c=a;f.make=c}),null);
__d("MessengerDialogTitleReact.re",["MessengerDialogTitleReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerDialogTitleReact.bs").make;f.make=a}),null);
__d("MessengerHotLikeSVGReact.bs",["cx","fbt","cssVar","React","uniqueID","bs_belt_Option","CurrentUser","joinClasses","MessengerEnvironment"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k="transparent",l=h._("Thumbs Up Sign");function a(a){var c=a.className;a=a.color;var d=j.useState(function(){return b("uniqueID")()});d=d[0];var e,f=0;a==null||a===""?f=1:e=a;f===1&&(e=b("CurrentUser").isWorkUser()?"#373e4c":b("MessengerEnvironment").messengerui?"#0084ff":"#4080ff");a={children:j.jsxs("svg",{children:[j.jsx("title",{children:l,id:d}),j.jsx("g",{children:j.jsxs("g",{children:[j.jsx("polyline",{fill:k,points:"256,0 258,256 2,258 "}),j.jsx("path",{d:"M254,147.1c0-12.7-4.4-16.4-9-20.1c2.6-4.2,5.1-10.2,5.1-18c0-15.8-12.3-25.7-32-25.7h-52c-0.5,0-1-0.5-0.9-1\n                 c1.4-8.6,3-24,3-31.7c0-16.7-4-37.5-19.3-45.7c-4.5-2.4-8.3-3.7-14.1-3.7c-8.8,0-14.6,3.6-16.7,5.9c-1.3,1.4-1.9,3.3-1.8,5.2\n                 l1.3,34.6c0.2,2.8-0.3,5.4-1.6,7.7l-24,47.8c-1.7,3.5-4.2,6.6-7.6,8.5c-3.5,2-6.5,5.9-6.5,9.5v94.8C78,230,94,238,112.3,238h86.1\n                 c13.5,0,22.4-4.5,27.2-13.5c4.4-8.2,3.2-15.8,1.4-21.5c7.4-2.3,14.8-8,16.9-18.3c1.3-6.6-0.7-12.1-2.9-16.2\n                 C247.5,165,254,159.8,254,147.1z",fill:e,stroke:k,strokeLinecap:"round",strokeWidth:"5%"}),j.jsx("path",{d:"M56.2,100H13.8C7.3,100,2,105.3,2,111.8v128.5c0,6.5,5.3,11.8,11.8,11.8h42.4c6.5,0,11.8-5.3,11.8-11.8V111.8\n                 C68,105.3,62.7,100,56.2,100z",fill:e})]})})],"aria-labelledby":d,role:"img",height:"100%",width:"100%",version:"1.1",viewBox:"0 0 256 256",x:"0px",y:"0px"}),className:b("joinClasses")(b("bs_belt_Option").getWithDefault(c,""),"_1i1j")};a["data-testid"]="messenger_hotlike_svg";return j.jsx("div",a)}c=a;f.cTRANSPARENT=k;f.label=l;f.make=c}),null);
__d("MessengerHotLikeSVGReact.re",["MessengerHotLikeSVGReact.bs"],(function(a,b,c,d,e,f){(function(a){return null});a=b("MessengerHotLikeSVGReact.bs").make;f.make=a}),null);
__d("PhotoUtils",["Event","URI"],(function(a,b,c,d,e,f){var g,h={getImagesFromData:function(a){var b=[];for(var c in a)c.indexOf("image")===0&&b.push(a[c]);return b},getFBIDFromData:function(a){return a&&a.id},getOriginalImageFromData:function(a){return a.original||a.download_image},getDownloadURLFromData:function(a){a=this.getOriginalImageFromData(a);if(!a)return null;a=new(g||(g=b("URI")))(a.uri);a.addQueryData({dl:1});return a},getPermalinkFromData:function(a){return a.permalink},canViewerMakeCoverPhoto:function(a){return!!a.can_viewer_make_cover_photo},getCoverPhotoURLFromData:function(a){return new(g||(g=b("URI")))("/profile.php").addQueryData({preview_cover:h.getFBIDFromData(a)})},preload:function(a,c,d){var e=a.getDimensions();for(var f=0;f<c.length;++f){var g=e.getBestFitImageFromPhoto(c[f],e.getMaxStageDimensions()),h=new Image();d&&b("Event").listen(h,"load",d.bind(null,c[f]));a.getLogger().log(g.uri);h.src=g.uri}}};e.exports=h}),null);
__d("SpotlightViewer",["cx","React","Spotlight.react"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(!this.props.open)return null;var a="_n3";this.props.className&&(a+=" "+this.props.className);return h.jsx(b("Spotlight.react"),{onBeforeHide:this.props.onBeforeHide,onHide:this.props.onHide,rootClassName:this.props.rootClassName,shown:this.props.open,children:h.jsx("div",{className:a,onClick:this.props.onClick,role:"presentation",children:this.props.children})},"photoLayer")};return c}(h.Component);e.exports=a}),null);
__d("SpotlightViewerImage",["cx","Image.react","React","XUISpinner.react"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.state={loading:!0};c.$3=function(){c.setState({loading:!1})};return c}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){a.src!==this.props.src&&this.setState({loading:!0})};d.render=function(){return h.jsxs("div",{className:"_4-od",children:[this.$1(),this.$2()]})};d.$1=function(){return!this.state.loading?null:h.jsx(b("XUISpinner.react"),{className:"_enh",size:"large"})};d.$2=function(){return h.jsx("div",{className:this.state.loading?"_eni":"",children:h.jsx(b("Image.react"),{onLoad:this.$3,src:this.props.src,style:{width:this.props.dimensions.x||"",height:this.props.dimensions.y||""}})})};return c}(h.Component);e.exports=a}),null);
__d("SpotlightViewport",["csx","cx","Locale","Parent","React","ReactDOM","Vector","clearTimeout","joinClasses","setTimeout"],(function(a,b,c,d,e,f,g,h){var i=b("React"),j=.2,k={NONE:null,FORWARD:1,BACKWARD:2};a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={currentActiveSection:k.NONE,active:!0},d.$2=function(a){var c=b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d));a=b("Vector").getEventPosition(a.nativeEvent);d.props.fadeInNOut===!0&&(d.$3(a)?b("clearTimeout")(d.timer):d.$1());var e=null;if(c instanceof HTMLElement){var f=b("Vector").getElementPosition(c);c=d.props.useWidth===!0?d.props.stageDimensions.x:b("Vector").getElementDimensions(c).x;a=a.x-f.x;f=a/c;b("Locale").isRTL()?e=f>1-j:e=f<j}e===!0?d.setState({currentActiveSection:k.BACKWARD}):d.setState({currentActiveSection:k.FORWARD})},d.$4=function(a){var c=d.state.currentActiveSection==k.FORWARD;a=a.target;b("Parent").bySelector(a,"._51an")||d.props.onClick&&d.props.onClick(c)},d.$1=function(){d.setState({active:!0}),d.props.fadeInNOut===!0&&(b("clearTimeout")(d.timer),d.timer=b("setTimeout")(d.$5,1e3))},d.$5=function(){d.setState({active:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1()};d.componentWillUnmount=function(){this.props.fadeInNOut===!0&&b("clearTimeout")(this.timer)};d.$3=function(a){return a.y<70||a.y>this.props.stageDimensions.y-70};d.makeActive=function(){this.$1()};d.render=function(){var a="_4-of"+(!this.state.active&&!this.props.active?" _50-l":"")+(this.state.currentActiveSection===k.BACKWARD?" _516a":"")+(this.state.currentActiveSection===k.FORWARD?" _516b":"")+(this.props.showLoadingIndicator?" _51jp":"");this.props.className!=null&&this.props.className!==""&&(a=b("joinClasses")(a,this.props.className));var c={};this.props.stageDimensions&&(c.height=this.props.stageDimensions.y,this.props.useWidth===!0&&(c.width=this.props.stageDimensions.x));return i.jsxs("div",{className:a,onClick:this.$4,onMouseEnter:this.$1,onMouseLeave:this.$5,onMouseMove:this.$2,role:"presentation",style:c,children:[this.props.children,i.jsxs("div",{className:"_4-og",children:[i.jsx("span",{className:"_4-oh"}),this.props.media,i.jsx("div",{className:"_4-oi"})]})]})};return c}(i.Component);e.exports=a}),null);
__d("Sticker.react",["cx","fbt","Arbiter","CurrentUser","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikeSVGReact.re","PaddedStickerConfig","React","ReactDOM","StickerConstants","clearInterval","emptyFunction","getElementPosition","gkx","joinClasses","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("MessengerHotLikeIconSVGM4React.bs").makeWithGradient,j=b("MessengerHotLikeSVGReact.re").make,k=b("React"),l=83;a=5e3;var m=10,n={CLICK:"click",HOVER:"hover",LOAD_AND_HOVER:"load_and_hover",ANIMATE_FOREVER:"animate_forever"};c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.__stopIntervalID=null,c.$1=!1,c.state={index:0,isHovered:!1,hasAnimated:!1,unsubscribeID:null},c.toggleAnimation=function(){c.isAnimating()?c.stopAnimation():c.startAnimation()},c.incrementFrameIndex=function(){c.shouldStopAnimating()?c.stopAnimation():c.setState({index:c.state.index+1})},c.onStickerClick=function(){if(!c.$2(c.props.packID))return;c.props.onStickerClick&&c.props.onStickerClick(c.props.packID,c.props.stickerID)},c.mouseLeft=function(){c.setState({isHovered:!1})},c.mouseEntered=function(){c.setState({isHovered:!0}),c.isAnimating()||c.startAnimation()},c.tabFocusSelected=function(){c.setState({isHovered:!0}),c.isAnimating()||c.startAnimation()},c.tabFocusUnselected=function(){c.setState({isHovered:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1=!0;this.props.onAttachmentLoad&&this.props.onAttachmentLoad();this.__stopIntervalID=null;(this.props.animationTrigger===n.LOAD_AND_HOVER||this.props.animationTrigger===n.ANIMATE_FOREVER)&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI&&this.startAnimation();if(this.props.subscribedThreadID&&this.props.frameCount&&this.props.frameCount>1){var a=b("Arbiter").subscribe(this.props.subscribedThreadID,function(a,b){this.isScrolledIntoView(b.scrollTop,b.viewHeight,b.top)}.bind(this));this.setState({unsubscribeID:a})}};d.componentWillUnmount=function(){this.$1=!1,this.state.unsubscribeID&&b("Arbiter").unsubscribe(this.state.unsubscribeID),this.isAnimating()&&b("clearInterval")(this.__stopIntervalID)};d.isAnimating=function(){return!!this.__stopIntervalID};d.getWidth=function(){var a;return Math.floor((a=this.props.sourceWidth)!=null?a:0)};d.getHeight=function(){var a;return Math.floor((a=this.props.sourceHeight)!=null?a:0)};d.preloadSprite=function(){var a=new window.Image();a.onload=function(){this.$1&&!this.state.hasAnimated&&(this.setState({hasAnimated:!0}),this.__stopIntervalID=b("setIntervalAcrossTransitions")(this.incrementFrameIndex,this.props.frameRate))}.bind(this);b("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI?a.src=this.props.paddedSpriteURI:a.src=this.props.spriteURI};d.isScrolledIntoView=function(a,c,d){var e=b("getElementPosition")(b("ReactDOM").findDOMNode(this));d=a+e.y-d;c=a+c;e=d+e.height;this.props.frameCount&&this.props.frameCount>1&&!this.state.hasAnimated&&e-m<=c&&d+m>=a&&this.startAnimation()};d.startAnimation=function(){!this.state.hasAnimated&&this.props.spriteURI?this.preloadSprite():this.isAnimating()||(this.setState({hasAnimated:!0}),this.__stopIntervalID=b("setIntervalAcrossTransitions")(this.incrementFrameIndex,this.props.frameRate))};d.stopAnimation=function(){this.setState({index:0}),b("clearInterval")(this.__stopIntervalID),this.__stopIntervalID=null};d.shouldStopAnimating=function(){var a;if(!this.props.frameCount)return!0;var b=this.state.index%this.props.frameCount;if(this.props.animationTrigger===n.ANIMATE_FOREVER)return!1;a=(a=this.props.frameRate)!=null?a:l;if(!(b===0&&this.state.index*a>this.props.animationTime))return!1;return this.props.animationTrigger===n.CLICK?!0:!this.state.isHovered};d.getStyle=function(){var a,c=0,d=this.props.spriteURI;a=(a=this.props.scale)!=null?a:1;var e=this.getHeight()*a;a=this.getWidth()*a;if(b("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){d=this.props.paddedSpriteURI;var f=240/Math.min(e,a);c=Math.floor(parseInt(b("StickerConstants").SPRITE_PADDING,10)/f)}f=this.props.frameCount?this.state.index%this.props.frameCount:0;var g=this.props.framesPerRow?f%this.props.framesPerRow*(a+c*2)+c:0;f=this.props.framesPerRow?Math.floor(f/this.props.framesPerRow)*(e+c*2)+c:0;var h=this.props.frameCount&&this.props.frameCount>1&&this.props.animationTrigger===n.CLICK||this.$2(this.props.packID);h=this.props.forceCursorPointer||h?"pointer":"default";if(!this.state.hasAnimated||!this.props.spriteURI||!d||!this.props.framesPerRow||!this.props.framesPerCol)return{backgroundImage:this.$3()||!this.props.sourceURI?null:"url("+this.props.sourceURI.toString()+")",backgroundRepeat:"no-repeat",backgroundSize:a+"px "+e+"px",cursor:h,height:e,width:a};else return{backgroundSize:(a+c*2)*this.props.framesPerRow+"px "+(e+c*2)*this.props.framesPerCol+"px",backgroundImage:"url("+d.toString()+")",backgroundPosition:-g+"px "+-f+"px",cursor:h,height:e,width:a,imageRendering:"-webkit-optimize-contrast"}};d.$2=function(a){return a&&a!=b("StickerConstants").MOBILE_LIKE_STICKER_PACK_ID&&a!=b("StickerConstants").GRAVEYARD_PACK_ID};d.getAriaLabel=function(){var a;return h._("{pack name} {sticker name} sticker",[h._param("pack name",(a=this.props.packName)!=null?a:""),h._param("sticker name",this.props.accessibilityLabel)])};d.render=function(){var a,c;this.props.animationTrigger===n.CLICK&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI?a=!0:(this.props.animationTrigger===n.HOVER||this.props.animationTrigger===n.LOAD_AND_HOVER)&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI&&(c=!0);var d=a?this.toggleAnimation:null;this.props.packID&&(d=this.onStickerClick);var e=this.props.className,f=null;this.$3()&&(e=b("joinClasses")(e,"_576q"),(!b("CurrentUser").isWorkUser()||b("gkx")("1072568"))&&this.props.thread!=null?f=k.jsx(i,{thread:this.props.thread}):f=k.jsx(j,{color:this.props.customColor}));return k.jsx("div",{"aria-label":this.getAriaLabel(),className:e,"data-testid":void 0,onBlur:this.tabFocusUnselected,onClick:d,onFocus:this.tabFocusSelected,onMouseEnter:c?this.mouseEntered:null,onMouseLeave:c?this.mouseLeft:null,role:"img",style:this.getStyle(),tabIndex:this.props.tabIndex,children:f})};d.$3=function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect?this.props.stickerID===b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||this.props.stickerID===b("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||this.props.stickerID===b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:!1};return c}(k.Component);c.defaultProps={animationTime:a,accessibilityLabel:"",forceCursorPointer:!1,frameRate:l,onStickerClick:b("emptyFunction"),packID:null,packName:"",tabIndex:0};e.exports=c}),null);
__d("isInternURI",[],(function(a,b,c,d,e,f){var g=new RegExp("(^|\\.)intern(mc)?\\.facebook\\.com$","i");function a(a){return g.test(a.getDomain())}e.exports=a}),null);
__d("XMessengerDotComLogoutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/logout/",{next:{type:"String"}})}),null);